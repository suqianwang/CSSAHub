<script src="/assets/jquery.js" type="text/javascript"></script>
<script src="/assets/jquery_ujs.js" type="text/javascript"></script>
<script>
  $(document).ready(function() {
    $('input[type=radio][class=form_type]').change(function () {
      $('.driver_form').css("display","none");
      $('.passenger_form').css("display","none");
      var fieldToShow = $(this).val();
      console.log($(this).val());
      $(".ride_form").css("display","block");
      $("." + fieldToShow + "_form").css("display","block");
  });
});
</script>
<script>
  $(document).on("focus", "[data-behaviour~='datepicker']", function(e){
    $(this).datepicker();
  });
</script>
<center>
  <h1>Are you a Driver or Passenger?</h1>
    
  <%= form_with model: @ride do |f| %>
    
  <p>
    <%= f.radio_button :role, 'driver', class: 'form_type', id: 'Driver', value: 'driver' %> Driver <br>
    <%= f.radio_button :role, 'passenger', class: 'form_type', id: 'Passenger', value: 'passenger' %> Passenger<br>
  </p>
  
  
  <div class="ride_form" style="display:none;">
    <div class="driver_form"><h1 class="center p-4">Driver Form</h1></div>
    <div class="passenger_form"><h1 class="center p-4">Passenger Form</h1></div>
    <div class="row justify-content-center">
      <div class="form-group col-8">
        <%= f.label :departure, "Depart From:" %>
        <%= f.select :departure, ['Zachry', 'HEB', 'IAH', 'Walmart', 'DPS', 'Rec'] %>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="form-group col-8">
        <%= f.label :destination, "Destination:" %>
        <%= f.select :destination, ['Zachry', 'HEB', 'IAH', 'Walmart', 'DPS', 'Rec'] %>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="form-group col-8">
        <div class="input-daterange" data-provide='datepicker' id="datepicker">
          <%= f.text_field :start_date %>
          <span class="add-on">to</span>
          <%= f.text_field :end_date %>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="form-group col-8">
        <%= f.label :start_time, "Departure Time (hh:mm)" %>
        <%= f.text_field :start_time %>
        <label> to </label>
        <%= f.text_field :end_time %>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="form-group col-8">
        <%= f.label :seats, "How many seats are available?", class: 'driver_form' %>
        <%= f.label :seats, "How many seats do you need?", class: 'passenger_form' %>
        <%= f.text_field :seats %>
      </div>
    </div>
  </div>
    
  <p>
    <%= f.submit %>
  </p>
  <% end %>
</center>